/* ============================
   SWATCHES â€” SIMPLE ROUNDED
   (Copy/Paste whole block)
   ============================ */

.product-form__input--swatch {
  --swatch-size: 44px;        /* swatch inner size */
  --swatch-radius: 14px;      /* <- rounded corners (try 18px or 999px) */
  --swatch-border: 1.6px;
  --swatch-border-color: rgba(17, 24, 39, 0.18);
  --swatch-active: #0d6ba6;
}

/* swatch (color/image square) */
.swatch {
  width: var(--swatch-size);
  aspect-ratio: 1 / 1;
  display: block;

  background: var(--swatch--background);
  background-position: var(--swatch-focal-point, center);
  background-size: cover;

  border: 0; /* avoid double border */
  border-radius: var(--swatch-radius);
}

/* If theme forces square, keep it rounded anyway */
.swatch--square {
  border-radius: var(--swatch-radius);
}

/* Unavailable */
.swatch--unavailable {
  outline: 1px dashed rgba(var(--color-foreground), 0.5);
  outline-offset: -1px;
}

/* The visible "frame" is the label */
.product-form__input--swatch .swatch-input__input + .swatch-input__label {
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 4px;
  background: #fff;

  border: var(--swatch-border) solid var(--swatch-border-color);
  border-radius: var(--swatch-radius);

  overflow: hidden; /* KEY: clip the swatch to rounded corners */
  box-shadow: none;
  position: relative;
  transition: border-color 0.16s ease, background-color 0.16s ease, box-shadow 0.16s ease;
}

/* Hover */
.product-form__input--swatch .swatch-input__input + .swatch-input__label:hover,
.product-form__input--swatch .swatch-input__input:hover + .swatch-input__label {
  border-color: var(--swatch-active);
  background: #f8fafc;
  box-shadow: 0 0 0 1px rgba(13, 107, 166, 0.10);
}

/* Selected */
.product-form__input--swatch .swatch-input__input:checked + .swatch-input__label {
  border-color: var(--swatch-active);
  background: #f0f7fb;
  box-shadow: 0 0 0 1px rgba(13, 107, 166, 0.14);
}

/* Focus */
.product-form__input--swatch .swatch-input__input:focus-visible + .swatch-input__label {
  outline: 2px solid var(--swatch-active);
  outline-offset: 2px;
}

/* Tooltip */
.product-form__input--swatch .swatch-input__label[data-tooltip]::after,
.product-form__input--swatch .swatch-input__label[data-tooltip]::before {
  position: absolute;
  left: 50%;
  opacity: 0;
  visibility: hidden;
  transform: translate(-50%, 6px);
  transition: opacity 0.15s ease, transform 0.18s ease;
  pointer-events: none;
  z-index: 5;
}

.product-form__input--swatch .swatch-input__label[data-tooltip]::after {
  content: attr(data-tooltip);
  bottom: calc(100% + 10px);
  padding: 4px 10px;
  background: #4b5563;
  color: #fff;
  font-size: 11px;
  font-weight: 700;
  border-radius: 999px;
  white-space: nowrap;
  line-height: 1.1;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
}

.product-form__input--swatch .swatch-input__label[data-tooltip]::before {
  content: "";
  bottom: calc(100% + 2px);
  width: 10px;
  height: 10px;
  background: #4b5563;
  clip-path: polygon(50% 100%, 0 0, 100% 0);
}

.product-form__input--swatch .swatch-input__label[data-tooltip]:hover::after,
.product-form__input--swatch .swatch-input__label[data-tooltip]:hover::before,
.product-form__input--swatch .swatch-input__label[data-tooltip]:focus-visible::after,
.product-form__input--swatch .swatch-input__label[data-tooltip]:focus-visible::before {
  opacity: 1;
  visibility: visible;
  transform: translate(-50%, 0);
}
