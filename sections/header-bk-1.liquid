<link rel="stylesheet" href="{{ 'component-search.css' | asset_url }}" media="print" onload="this.media='all'">
{{ 'header-menu.css' | asset_url | stylesheet_tag }}

<header class="site-header">
   <nav class="navbar navbar-expand-lg navbar-light">
     <div class="container-fluid page-width"></div>
     
      <!-- Logo -->
      <a href="{{ routes.root_url }}" class="navbar-brand">
        {%- if settings.logo != blank -%}
          <div class="header__heading-logo-wrapper">
            {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
            {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
            {% capture sizes %}(max-width: {{ settings.logo_width | times: 2 }}px) 50vw, {{ settings.logo_width }}px{% endcapture %}
            {% capture widths %}{{ settings.logo_width }}, {{ settings.logo_width | times: 1.5 | round }}, {{ settings.logo_width | times: 2 }}{% endcapture %}
            {{
              settings.logo
              | image_url: width: 600
              | image_tag:
                class: 'header__heading-logo motion-reduce',
                widths: widths,
                height: logo_height,
                width: settings.logo_width,
                alt: logo_alt,
                sizes: sizes,
                preload: true
            }}
          </div>
        {% else %}
          <span class="h2">{{ shop.name }}</span>
        {% endif %}
      </a>
     
      <!-- Toggler for mobile -->
      <button
        class="navbar-toggler collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarMega">
        
      </div>
     
   </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light">
          <!-- Logo -->
          <a href="{{ routes.root_url }}" class="navbar-brand">
            {%- if settings.logo != blank -%}
              <div class="header__heading-logo-wrapper">
                {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
                {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
                {% capture sizes %}(max-width: {{ settings.logo_width | times: 2 }}px) 50vw, {{ settings.logo_width }}px{% endcapture %}
                {% capture widths %}{{ settings.logo_width }}, {{ settings.logo_width | times: 1.5 | round }}, {{ settings.logo_width | times: 2 }}{% endcapture %}
                {{
                  settings.logo
                  | image_url: width: 600
                  | image_tag:
                    class: 'header__heading-logo motion-reduce',
                    widths: widths,
                    height: logo_height,
                    width: settings.logo_width,
                    alt: logo_alt,
                    sizes: sizes,
                    preload: true
                }}
              </div>
            {% else %}
              <span class="h2">{{ shop.name }}</span>
            {% endif %}
          </a>
          <!-- Toggler for mobile -->

          <button
            class="navbar-toggler collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <!-- Menu Items -->
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="main-menu-bar navbar-nav mx-auto">
              {% for link in linklists['main-menu'].links %}
                {% assign parent_link_title = link.title | handleize | downcase %}
                {% if parent_link_title == 'ppe' %}
                  <li class="nav-item dropdown position-static">
                    <a
                      class="nav-link"
                      href="javascript:void(0);"
                      id="megaMenu-{{ parent_link_title }}"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      Products
                      {{ 'icon-caret.svg' | inline_asset_content }}
                      <!-- v icon -->
                    </a>
                    {% if link.links.size > 0 %}
                      <div
                        class="dropdown-menu {{ parent_link_title }}-dropdown-menu"
                        aria-labelledby="megaMenu-{{ parent_link_title }}"
                      >
                        <div class="container py-4">
                          <div class="row">
                            <div class="col-12">
                              <div class="d-flex">
                                {% for sublink in link.links %}
                                  <div class="dropdown-menu-item">
                                    {% assign my_collection = sublink.object %}
                                    <a href="{{ sublink.url }}"
                                      ><img
                                        class="img-fluid"
                                        src="{{ my_collection.metafields.custom.menu_image.value | img_url :'180x' }}"
                                        width="180"
                                        height="180"
                                        alt="All Categories"
                                        loading="lazy"
                                    ></a>

                                    <h3>
                                      <a href="{{ sublink.url }}">{{ sublink.title }}</a>
                                    </h3>
                                    {% if sublink.links.size > 0 %}
                                      <ul class="list-unstyled">
                                        {% for subsublink in sublink.links %}
                                          <li>
                                            <a href="{{ subsublink.url }}"> {{ subsublink.title }}</a>
                                          </li>
                                        {% endfor %}
                                      </ul>
                                    {% endif %}
                                  </div>
                                {% endfor %}
                              </div>
                            </div>
                          </div>

                          <div class="view_all_categories">
                            <h3>
                              <a href="/pages/ppe-categories">
                                {{- 'icon-plus-blue.svg' | inline_asset_content }} VIEW ALL CATEGORIES</a
                              >
                            </h3>
                          </div>
                        </div>
                      </div>
                    {% endif %}
                  </li>
                {% elsif parent_link_title == 'brands' %}
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="{{ link.url }}"
                      id="megaMenu-{{ parent_link_title }}"
                    >
                      {{- link.title -}}
                      {% comment %}
                        {{ 'icon-caret.svg' | inline_asset_content }}
                        <!-- v icon -->
                      {% endcomment %}
                    </a>
                    {% comment %}
                      {% if link.links.size > 0 %}
                        <div
                          class="dropdown-menu {{ parent_link_title }}-dropdown-menu"
                          aria-labelledby="megaMenu-{{ parent_link_title }}"
                        >
                          {% for sublink in link.links %}
                            <div class="dropdown-menu-item">
                              <a href="{{ sublink.url }}"
                                ><img
                                  class="img-fluid"
                                  src="{{ 'ppe-logo.png' | asset_img_url : '180x' }}"
                                  width="100"
                                  height="100"
                                  alt="PPE-CATEGORIES"
                                  loading="lazy"
                              ></a>
                              <h3>
                                <a href="{{ sublink.url }}">
                                  {{- sublink.title -}}
                                </a>
                              </h3>
                              <span><a href="{{ sublink.url }}">Learn More</a></span>
                            </div>
                          {% endfor %}
                        </div>
                      {% endif %}
                    {% endcomment %}
                  </li>
                {% elsif parent_link_title == 'industries' %}
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link"
                      href="javascript:void(0);"
                      id="megaMenu-{{ parent_link_title }}"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      {{- link.title -}}
                      {{ 'icon-caret.svg' | inline_asset_content }}
                      <!-- v icon -->
                    </a>
                    {% if link.links.size > 0 %}
                      <div
                        class="dropdown-menu {{ parent_link_title }}-dropdown-menu"
                        aria-labelledby="megaMenu-{{ parent_link_title }}"
                      >
                        {% for sublink in link.links %}
                          <div class="dropdown-menu-item">
                            <a href="{{ sublink.url }}">
                              {{- sublink.title -}}
                            </a>
                          </div>
                        {% endfor %}
                      </div>
                    {% endif %}
                  </li>
                {% elsif parent_link_title == 'resources' %}
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link"
                      href="javascript:void(0);"
                      id="megaMenu-{{ parent_link_title }}"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      {{- link.title -}}
                      {{ 'icon-caret.svg' | inline_asset_content }}
                      <!-- v icon -->
                    </a>
                    {% if link.links.size > 0 %}
                      <div
                        class="dropdown-menu {{ parent_link_title }}-dropdown-menu"
                        aria-labelledby="megaMenu-{{ parent_link_title }}"
                      >
                        {% for sublink in link.links %}
                          <div class="dropdown-menu-item">
                            <a href="{{ sublink.url }}">
                              {{- sublink.title -}}
                            </a>
                          </div>
                        {% endfor %}
                      </div>
                    {% endif %}
                  </li>
                {% elsif parent_link_title == 'contact' %}
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link"
                      href="javascript:void(0);"
                      id="megaMenu-{{ parent_link_title }}"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      {{- link.title -}}
                      {{ 'icon-caret.svg' | inline_asset_content }}
                      <!-- v icon -->
                    </a>
                    {% if link.links.size > 0 %}
                      <div
                        class="dropdown-menu {{ parent_link_title }}-dropdown-menu"
                        aria-labelledby="megaMenu-{{ parent_link_title }}"
                      >
                        {% for sublink in link.links %}
                          <div class="dropdown-menu-item">
                            <a href="{{ sublink.url }}">
                              {{- sublink.title -}}
                            </a>
                          </div>
                        {% endfor %}
                      </div>
                    {% endif %}
                  </li>
                {% else %}
                  <li class="nav-item">
                    <a class="nav-link" href="{{ link.url }}">{{ link.title }}</a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          </div>
          <ul class="navbar-nav align-items-center gap-1 gap-xxl-2 icosn d-none d-lg-flex">
            <li class="nav-item mobile-header-search">
              {% render 'header-search', input_id: 'Search-In-Modal' %}
            </li>
            <li>
              {%- if shop.customer_accounts_enabled -%}
                <a
                  href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}"
                  class="header__icon header__icon--account link focus-inset{% if section.settings.menu != blank %} small-hide{% endif %}"
                  rel="nofollow"
                >
                  {%- if section.settings.enable_customer_avatar -%}
                    <account-icon>
                      {%- if customer and customer.has_avatar? -%}
                        {{ customer | avatar }}
                      {%- else -%}
                        <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
                      {%- endif -%}
                    </account-icon>
                  {%- else -%}
                    <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
                  {%- endif -%}
                  <span class="visually-hidden">
                    {%- liquid
                      if customer
                        echo 'customer.account_fallback' | t
                      else
                        echo 'customer.log_in' | t
                      endif
                    -%}
                  </span>
                </a>
              {%- endif -%}
            </li>
            <li class="nav-item">
              <a
                href="{{ routes.cart_url }}"
                class="header__icon header__icon--cart link focus-inset"
                id="cart-icon-bubble"
              >
                {% if cart == empty %}
                  <span class="svg-wrapper">{{ 'icon-cart-empty.svg' | inline_asset_content }}</span>
                {% else %}
                  <span class="svg-wrapper">{{ 'icon-cart.svg' | inline_asset_content }}</span>
                {% endif %}
                <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
                {%- if cart != empty -%}
                  <div class="cart-count-bubble">
                    {%- if cart.item_count < 100 -%}
                      <span aria-hidden="true">{{ cart.item_count }}</span>
                    {%- endif -%}
                    <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
                  </div>
                {%- endif -%}
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "t:sections.header.name",
  "class": "section-header position-sticky top-0",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    },
  ],
}
{% endschema %}
