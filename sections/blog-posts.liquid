{% style %}
  #shopify-section-{{ section.id }}{
    padding-top: {{ section.settings.padding_top_desktop }};
    padding-bottom: {{ section.settings.padding_bottom_desktop }};
  }

    .recent-blog .imager {
      width: 100%;
      max-width: 550px;
      height: auto;
      aspect-ratio: 1 / 1;
      background-color: #f5f5f5; /* optional, for placeholder */
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

  .recent-blog img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    height: auto;
    display: block;
  }

  .recent-blogs a{
    text-decoration: none;
  }

  recent-blogs h4:hover{
    color: #0A5BA6;
  }

  .recent-blogs p{
    line-height: 1.3;
  }

  p.blog-date {
    font-weight: 600;
    font-size: 14px;
    color: #0A5BA6;
  }

  @media( max-width: 767px){
     #shopify-section-{{ section.id }}{
      padding-top: {{ section.settings.padding_top_mobile }};
      padding-bottom: {{ section.settings.padding_bottom_mobile }};
    }
  }
{% endstyle %}
<div class="page-width container-fluid">
  <div class="row mb-3 mb-md-4">
    <div class="col-12 d-flex flex-column flex-md-row flex-wrap flex-md-nowrap align-items-center justify-content-center justify-content-md-between ">
     
      <h2 class="sh-48 flex-shrink-0 m-0 pe-md-3">{{ section.settings.heading }}</h2>
      <!-- <div class="d-none d-md-block">
        <svg width="100%" height="2" viewBox="0 0 1224 2" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M-0.00308228 1.05603H1224" stroke="#9AA4A7" stroke-width="0.5" stroke-dasharray="1 1"></path>
        </svg>
      </div> -->
      <a
        class="sp-20 flex-shrink-0 d-flex align-items-center gap-2 justify-content-center ps-md-3 p-span"
        href="{{ section.settings.link }}"
      >
        <span class="flex-shrink-0">{{ section.settings.link_label }}</span>
        <svg width="30" height="16" viewBox="0 0 30 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M29.7071 8.70711C30.0976 8.31658 30.0976 7.68342 29.7071 7.29289L23.3431 0.928932C22.9526 0.538408 22.3195 0.538408 21.9289 0.928932C21.5384 1.31946 21.5384 1.95262 21.9289 2.34315L27.5858 8L21.9289 13.6569C21.5384 14.0474 21.5384 14.6805 21.9289 15.0711C22.3195 15.4616 22.9526 15.4616 23.3431 15.0711L29.7071 8.70711ZM0 9H29V7H0V9Z" fill="#0A5BA6"></path>
        </svg>
      </a>
       
    </div>
  </div>
  <div class="row mb-3 mb-md-4">
    <div class="col-12">
      <div class="border-bottom" style="height: 1px;">&nbsp;</div>
    </div>
  </div>
  <div class="recent-blogs">
    {% assign blog_handle = section.settings.blog %}
    {% assign posts_to_show = 4 %}
    {% assign blog = blogs[blog_handle] %}
    <div class="slider">
      <div
        class="swiper-container"
        data-space-between="0"
        data-slides-desktop="4"
        data-slides-tablet="3"
        data-slides-mobile="1.3"
      >
        {% if blog != null %}
          <div class="col-12 col-md-4 swiper-wrapper">
            {% for article in section.settings.blog_id.articles limit: posts_to_show %}
              <div
                id="swiper-slide-{{ article.index }}"
                class="swiper-slide blog-post"
              >
                 <a href="{{ article.url }}">
                  <div class="imager mb-3">
                    <img src="{{  article.image | img_url : '550x' }}" width="{{ article.image.width }}" height="{{ article.image.height }}" alt="{{  article.image.alt }}" loading="lazy" />
                  </div>
                  <h4 class="sp-24">
                   {{ article.title }}
                  </h4>
                 <p class="sp-16 mb-3">
                    {{
                      article.excerpt
                      | default: article.content
                      | strip_html
                      | truncatewords: 20
                    }}
                  </p>
                   <p class="blog-date d-flex align-items-center gap-2">
                    <svg role="presentation" fill="none" focusable="false" stroke-width="1.5" width="16" height="16" class="icon icon-blog-date" viewBox="0 0 16 16">
                    <path d="M5.372 1v2.877M10.455 1v2.877" stroke="currentColor" stroke-linecap="round"></path>
                    <path d="M14.338 7.632H1.497l.179-4.57 6.164-.448 6.497.448v4.57Z" fill="currentColor" fill-opacity=".12"></path>
                    <path d="M1.224 12.073c.183 1.631 1.508 2.925 3.147 3.004a73.18 73.18 0 0 0 3.546.083c1.256 0 2.413-.028 3.546-.083 1.639-.079 2.964-1.374 3.146-3.004.124-1.099.225-2.224.225-3.37 0-1.147-.102-2.273-.225-3.371-.182-1.631-1.507-2.925-3.146-3.004a73.22 73.22 0 0 0-3.546-.083 73.22 73.22 0 0 0-3.546.083c-1.639.079-2.964 1.374-3.147 3.004C1.101 6.43 1 7.556 1 8.703c0 1.146.102 2.272.224 3.37ZM1.331 7.202h13.24" stroke="currentColor"></path>
                    </svg>
                    {{ article.published_at | date: "%B %d, %Y" }}
                  </p>
                 </a>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <p>No blog selected.</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Recent Blogs",
  "class": "recent-blog",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link",
    },
     {
      "type": "text",
      "id": "link_label",
      "label": "label",
    },
    {
      "type": "blog",
      "id": "blog_id",
      "label": "Blog",
    },

    {
      "type": "text",
      "id": "padding_top_desktop",
      "label": "Padding Desktop Top",
      "default": "80px"
    },
     {
      "type": "text",
      "id": "padding_bottom_desktop",
      "label": "Padding Desktop Bottom",
      "default": "80px"
    },
     {
      "type": "text",
      "id": "padding_top_mobile",
      "label": "Padding Mobile Top",
      "default": "40px"
    },
     {
      "type": "text",
      "id": "padding_bottom_mobile",
      "label": "Padding Mobile Bottom",
      "default": "40px"
    },
  ],
  "presets": [
    {
      "name": "Recent Blog",
    }
  ]
}
{% endschema %}
