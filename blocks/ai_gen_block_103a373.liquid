{% doc %}
  @prompt
    generate an upsell section, that takes the products on card as reference to show suggestions automatic. , display the image of the product square.
    
    show 6 products 
    
    card background white
    
    display product description in one line, add the product photo, when i click the add to cart button the product should update the shoping cart automaticly with ajax , when I click in add to cart  the browser should update the page to reflect the changes to the shopping cart., the section should  measure 1500px
    
    replace the add to card button  in each product per add  to this order, small pill button in orange color
    
    add description down the title , display 8 products at a time 
      change the container width to: 1450px
    add an svg icon to the bottom add to this order and make it bigger in color green hover, dark grey 
    
    add adjustments for You may also like (weight and size), add a subtitle  before you may also like  that gonna say this: You’ve got great taste! Here are a few perfect-match products that go hand-in-hand with what’s already in your cart.
    
    the add to this order button should say just the word Add product   background  green  icon bigger and color white, change the order, first heading after Subtitle.
    
    do not show sold out products
    
    use this green for the button #55ad55,  make the icon even bigger and bolder and make the Add Product fit in one line , make the icon of add product even smaller.   and blend the bottom with the bottom edge  no pill 
    , Make the green “Add Product” button stretch the full width of the product card, aligned perfectly with the bottom edge.
    The button should have no rounded corners, sit flush with the card edges, and maintain full width on all devices.
    Keep the button text centered and visually balanced.
    
    Use a subtle hover effect (slightly darker green on hover) and keep the height consistent with other buttons in the design., adjust the pill to no border upper left and right and reduce  the height:   create adjustment for all the border corners so i can adjust it by myself, Add an option to enable or disable the display of certain products.
    When enabled, automatically hide helmets or any product that has more than one variant or requires multiple selections (e.g., size, color, or configuration).
    The goal is to show only simple products with a single variant that can be added to the cart directly., display the products in a random order, (Show only simple products Hide products with multiple variants or helmets) replace this rule to not show product with more than one variant
    
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}


{% style %}


/* --- Mobile side padding for upsell section --- */
@media screen and (max-width: 749px) {
  .ai-cart-upsell__container-{{ ai_gen_id }} {
    padding-left: 17px !important;
    padding-right: 17px !important;
  }
}

/* --- Adjust space between price and Add Product button on mobile --- */
@media screen and (max-width: 749px) {
  .ai-cart-upsell__price-{{ ai_gen_id }} {
    margin-bottom: 8px !important; /* reduce gap below price */
  }

  .ai-cart-upsell__content-{{ ai_gen_id }} {
    padding-bottom: 8px !important; /* optional – balances white space */
  }

  .ai-cart-upsell__button-wrapper-{{ ai_gen_id }} {
    margin-top: 0 !important;
    margin-bottom: -12px !important; /* pulls button closer to card edge */
  }
}





/* Remove top gap between cart and upsell section */
.ai-cart-upsell-{{ ai_gen_id }} {
  margin-top: -24px; /* adjust value until it kisses the cart box */
}

/* Optional: smooth transition for design harmony */
@media (max-width: 768px) {
  .ai-cart-upsell-{{ ai_gen_id }} {
    margin-top: -16px;
  }
}


  .ai-cart-upsell-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
  }

  .ai-cart-upsell__container-{{ ai_gen_id }} {
    max-width: 1435px;
    margin: 0 auto;
  }

  .ai-cart-upsell__heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    font-weight: {{ block.settings.heading_weight }};
    color: {{ block.settings.text_color }};
    margin: 0 0 {{ block.settings.spacing | divided_by: 2 }}px;
    text-align: {{ block.settings.text_alignment }};
  }

  .ai-cart-upsell__subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0 0 {{ block.settings.spacing }}px;
    text-align: {{ block.settings.text_alignment }};
    opacity: 0.8;
    line-height: 1.5;
  }

  .ai-cart-upsell__grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: {{ block.settings.spacing }}px;
  }

  .ai-cart-upsell__product-{{ ai_gen_id }} {
    background-color: {{ block.settings.card_background }};
    border-radius: {{ block.settings.card_border_radius }}px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
  }

  .ai-cart-upsell__product-{{ ai_gen_id }}:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  }

  .ai-cart-upsell__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    padding-bottom: 100%;
    overflow: hidden;
    background-color: #f4f4f4;
    display: block;
  }

  .ai-cart-upsell__image-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-cart-upsell__image-placeholder-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f4f4f4;
  }

  .ai-cart-upsell__image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-cart-upsell__content-{{ ai_gen_id }} {
    padding: 16px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .ai-cart-upsell__vendor-{{ ai_gen_id }} {
    font-size: 12px;
    color: {{ block.settings.text_color }};
    opacity: 0.7;
    margin: 0 0 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .ai-cart-upsell__title-{{ ai_gen_id }} {
    font-size: 14px;
    color: {{ block.settings.text_color }};
    margin: 0 0 8px;
    font-weight: 600;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .ai-cart-upsell__description-{{ ai_gen_id }} {
    font-size: 12px;
    color: {{ block.settings.text_color }};
    opacity: 0.7;
    margin: 0 0 8px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .ai-cart-upsell__price-{{ ai_gen_id }} {
    font-size: 16px;
    color: {{ block.settings.text_color }};
    margin: 0 0 16px;
    font-weight: 700;
  }

  .ai-cart-upsell__price-compare-{{ ai_gen_id }} {
    font-size: 14px;
    color: {{ block.settings.text_color }};
    opacity: 0.6;
    text-decoration: line-through;
    margin-left: 8px;
  }

  .ai-cart-upsell__button-wrapper-{{ ai_gen_id }} {
    margin-top: auto;
    margin-left: -16px;
    margin-right: -16px;
    margin-bottom: -16px;
  }

  .ai-cart-upsell__button-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: {{ block.settings.button_height }}px 16px;
    background-color: #55ad55;
    color: #ffffff;
    border: none;
    border-radius: 0 0 {{ block.settings.button_bottom_left_radius }}px {{ block.settings.button_bottom_right_radius }}px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-decoration: none;
    white-space: nowrap;
    width: 100%;
  }

  .ai-cart-upsell__button-{{ ai_gen_id }}:hover {
    background-color: #4a9a4a;
  }

  .ai-cart-upsell__button-{{ ai_gen_id }}:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .ai-cart-upsell__button-icon-{{ ai_gen_id }} {
    width: 16px;
    height: 16px;
    fill: #ffffff;
    flex-shrink: 0;
  }

  .ai-cart-upsell__empty-{{ ai_gen_id }} {
    text-align: center;
    padding: 40px 20px;
    color: {{ block.settings.text_color }};
    opacity: 0.6;
  }

  .ai-cart-upsell__loading-{{ ai_gen_id }} {
    text-align: center;
    padding: 40px 20px;
    color: {{ block.settings.text_color }};
  }

  @media screen and (max-width: 1200px) {
    .ai-cart-upsell__grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  @media screen and (max-width: 989px) {
    .ai-cart-upsell__grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media screen and (max-width: 749px) {
    .ai-cart-upsell__grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .ai-cart-upsell__heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.8 }}px;
    }

    .ai-cart-upsell__subtitle-{{ ai_gen_id }} {
      font-size: {{ block.settings.subtitle_size | times: 0.85 }}px;
    }

    .ai-cart-upsell__content-{{ ai_gen_id }} {
      padding: 12px;
    }

    .ai-cart-upsell__button-wrapper-{{ ai_gen_id }} {
      margin-left: -12px;
      margin-right: -12px;
      margin-bottom: -12px;
    }
  }





/* --- Text tuning: title (SKU) + price --- */
.ai-cart-upsell__content-{{ ai_gen_id }}{
  /* opcional: ajusta el colchón interno del card */
  padding: {{ block.settings.content_padding }}px;
}

.ai-cart-upsell__title-{{ ai_gen_id }}{
  font-size: {{ block.settings.card_title_size }}px;
  font-weight: {{ block.settings.card_title_weight }};
  line-height: {{ block.settings.card_title_line_height }};
  letter-spacing: {{ block.settings.card_title_letter_spacing }}em;
  margin: 0 0 {{ block.settings.card_title_bottom_margin }}px;
}

.ai-cart-upsell__price-{{ ai_gen_id }}{
  font-size: {{ block.settings.price_size }}px;
  font-weight: {{ block.settings.price_weight }};
  line-height: {{ block.settings.price_line_height }};
  margin: {{ block.settings.price_top_margin }}px 0 {{ block.settings.price_bottom_margin }}px;
}

/* Precio tachado (si aplica) mantiene proporción */
.ai-cart-upsell__price-compare-{{ ai_gen_id }}{
  font-size: calc({{ block.settings.price_size }}px * 0.85);
}




  
{% endstyle %}






{% style %}
/* Fuente de verdad: padding interno del card */
.ai-cart-upsell__content-{{ ai_gen_id }}{
  --pad: {{ block.settings.content_padding }}px; /* desktop por defecto */
  padding: var(--pad);
}

/* Mobile: más compacto */
@media (max-width: 749px){
  .ai-cart-upsell__content-{{ ai_gen_id }}{
    --pad: 12px; /* ajusta aquí si quieres más/menos aire en mobile */
    padding: var(--pad);
  }

  /* Reduce el gap entre precio y botón */
  .ai-cart-upsell__price-{{ ai_gen_id }}{ margin-bottom: 6px !important; }

  /* Estira el botón a full-bleed usando el mismo pad */
  .ai-cart-upsell__button-wrapper-{{ ai_gen_id }}{
    margin-top: 0 !important;
    margin-left: calc(var(--pad) * -1) !important;
    margin-right: calc(var(--pad) * -1) !important;
    margin-bottom: calc(var(--pad) * -1) !important; /* pega al borde inferior */
  }

  .ai-cart-upsell__button-{{ ai_gen_id }}{
    width: 100%;
    display: block;
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
    /* los bottom corners siguen viniendo de tus settings */
  }
}

{% endstyle %}

















{% style %}
/* --- Button: top recto, bottom redondeado --- */
.ai-cart-upsell__button-{{ ai_gen_id }}{
  -webkit-appearance: none;
  appearance: none;
  /* Asegura esquinas de arriba rectas */
  border-top-left-radius: 0 !important;
  border-top-right-radius: 0 !important;

  /* Orden correcto: TL TR BR BL */
  border-radius: 0 0 {{ block.settings.button_bottom_right_radius }}px {{ block.settings.button_bottom_left_radius }}px !important;
}

/* Opcional: por si algún reset global intenta redondearlo todo */
.ai-cart-upsell__button-{{ ai_gen_id }}:where(*) {
  border-top-left-radius: 0 !important;
  border-top-right-radius: 0 !important;
}
{% endstyle %}





<cart-upsell-{{ ai_gen_id }}
  class="ai-cart-upsell-{{ ai_gen_id }}"
  data-max-products="{{ block.settings.max_products }}"
  data-show-vendor="{{ block.settings.show_vendor }}"
  data-show-description="{{ block.settings.show_description }}"
  data-only-simple-products="{{ block.settings.only_simple_products }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-cart-upsell__container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank %}
      <h2 class="ai-cart-upsell__heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
    {% endif %}

    {% if block.settings.subtitle != blank %}
      <p class="ai-cart-upsell__subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</p>
    {% endif %}

    <div class="ai-cart-upsell__loading-{{ ai_gen_id }}">
      Loading recommendations...
    </div>

    <div class="ai-cart-upsell__grid-{{ ai_gen_id }}" style="display: none;"></div>

    <div class="ai-cart-upsell__empty-{{ ai_gen_id }}" style="display: none;">
      {{ block.settings.empty_message }}
    </div>
  </div>
</cart-upsell-{{ ai_gen_id }}>

<script>
  (function() {
    class CartUpsell{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.maxProducts = parseInt(this.dataset.maxProducts) || 8;
        this.showVendor = this.dataset.showVendor === 'true';
        this.showDescription = this.dataset.showDescription === 'true';
        this.onlySimpleProducts = this.dataset.onlySimpleProducts === 'true';
        this.loadingEl = this.querySelector('.ai-cart-upsell__loading-{{ ai_gen_id }}');
        this.gridEl = this.querySelector('.ai-cart-upsell__grid-{{ ai_gen_id }}');
        this.emptyEl = this.querySelector('.ai-cart-upsell__empty-{{ ai_gen_id }}');
      }

      connectedCallback() {
        this.fetchCartAndRecommendations();
        document.addEventListener('cart:updated', () => this.fetchCartAndRecommendations());
      }

      async fetchCartAndRecommendations() {
        try {
          const cartResponse = await fetch('/cart.js');
          const cart = await cartResponse.json();

          if (!cart.items || cart.items.length === 0) {
            this.showEmpty();
            return;
          }

          const productIds = cart.items.map(item => item.product_id);
          const recommendations = await this.fetchRecommendations(productIds);

          if (recommendations.length === 0) {
            this.showEmpty();
          } else {
            this.renderProducts(recommendations);
          }
        } catch (error) {
          console.error('Error fetching cart upsell:', error);
          this.showEmpty();
        }
      }

      async fetchRecommendations(productIds) {
        const allRecommendations = [];
        const seenProductIds = new Set(productIds);

        for (const productId of productIds) {
          try {
            const response = await fetch(`/recommendations/products.json?product_id=${productId}&limit=20`);
            const data = await response.json();

            if (data.products) {
              data.products.forEach(product => {
                if (seenProductIds.has(product.id)) {
                  return;
                }

                if (this.onlySimpleProducts && product.variants && product.variants.length > 1) {
                  return;
                }

                const variant = product.variants[0];
                if (variant.available) {
                  allRecommendations.push(product);
                  seenProductIds.add(product.id);
                }
              });
            }
          } catch (error) {
            console.error('Error fetching recommendations:', error);
          }
        }

        this.shuffleArray(allRecommendations);

        return allRecommendations.slice(0, this.maxProducts);
      }

      shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }

      renderProducts(products) {
        this.loadingEl.style.display = 'none';
        this.emptyEl.style.display = 'none';
        this.gridEl.style.display = 'grid';

        this.gridEl.innerHTML = products.map(product => this.createProductCard(product)).join('');

        this.gridEl.querySelectorAll('.ai-cart-upsell__button-{{ ai_gen_id }}').forEach(button => {
          button.addEventListener('click', (e) => this.handleAddToCart(e));
        });
      }

      createProductCard(product) {
        const variant = product.variants[0];
        const imageUrl = product.featured_image;
        const price = this.formatMoney(variant.price);
        const compareAtPrice = variant.compare_at_price > variant.price ? this.formatMoney(variant.compare_at_price) : '';
        const description = product.body_html ? this.stripHtml(product.body_html) : '';

        return `
          <div class="ai-cart-upsell__product-{{ ai_gen_id }}">
            <a href="${product.url}" class="ai-cart-upsell__image-wrapper-{{ ai_gen_id }}">
              ${imageUrl ? `<img src="${imageUrl}" alt="${this.escapeHtml(product.title)}" class="ai-cart-upsell__image-{{ ai_gen_id }}" loading="lazy">` : `<div class="ai-cart-upsell__image-placeholder-{{ ai_gen_id }}">${this.getPlaceholderSvg()}</div>`}
            </a>
            <div class="ai-cart-upsell__content-{{ ai_gen_id }}">
              ${this.showVendor && product.vendor ? `<div class="ai-cart-upsell__vendor-{{ ai_gen_id }}">${this.escapeHtml(product.vendor)}</div>` : ''}
              <h3 class="ai-cart-upsell__title-{{ ai_gen_id }}">
                <a href="${product.url}" style="color: inherit; text-decoration: none;">${this.escapeHtml(product.title)}</a>
              </h3>
              ${this.showDescription && description ? `<div class="ai-cart-upsell__description-{{ ai_gen_id }}">${this.escapeHtml(description)}</div>` : ''}
              <div class="ai-cart-upsell__price-{{ ai_gen_id }}">
                ${price}
                ${compareAtPrice ? `<span class="ai-cart-upsell__price-compare-{{ ai_gen_id }}">${compareAtPrice}</span>` : ''}
              </div>
              <div class="ai-cart-upsell__button-wrapper-{{ ai_gen_id }}">
                <button
                  class="ai-cart-upsell__button-{{ ai_gen_id }}"
                  data-variant-id="${variant.id}"
                >
                  <svg class="ai-cart-upsell__button-icon-{{ ai_gen_id }}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" stroke="currentColor" stroke-width="2.5"/>
                  </svg>
                  {{ block.settings.button_text }}
                </button>
              </div>
            </div>
          </div>
        `;
      }

      getPlaceholderSvg() {
        return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 525.5 525.5"><path d="M324.5 212.7H203c-1.6 0-2.8 1.3-2.8 2.8V308c0 1.6 1.3 2.8 2.8 2.8h121.6c1.6 0 2.8-1.3 2.8-2.8v-92.5c0-1.6-1.3-2.8-2.9-2.8zm1.1 95.3c0 .6-.5 1.1-1.1 1.1H203c-.6 0-1.1-.5-1.1-1.1v-92.5c0-.6.5-1.1 1.1-1.1h121.6c.6 0 1.1.5 1.1 1.1V308z"/><path d="M210.4 299.5H240v.1s.1 0 .2-.1h75.2v-76.2h-105v76.2zm1.8-7.2l20-20c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l1.5 1.5 16.8 16.8c-12.9 3.3-20.7 6.3-22.8 7.2h-27.7v-5.5zm101.5-10.1c-20.1 1.7-36.7 4.8-49.1 7.9l-16.9-16.9 26.3-26.3c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l27.5 27.5v7.8zm-68.9 15.5c9.7-3.5 33.9-10.9 68.9-13.8v13.8h-68.9zm68.9-72.7v46.8l-26.2-26.2c-1.9-1.9-4.5-3-7.3-3s-5.4 1.1-7.3 3l-26.3 26.3-.9-.9c-1.9-1.9-4.5-3-7.3-3s-5.4 1.1-7.3 3l-18.8 18.8V225h101.4z"/><path d="M232.8 254c4.6 0 8.3-3.7 8.3-8.3s-3.7-8.3-8.3-8.3-8.3 3.7-8.3 8.3 3.7 8.3 8.3 8.3zm0-14.9c3.6 0 6.6 2.9 6.6 6.6s-2.9 6.6-6.6 6.6-6.6-2.9-6.6-6.6 3-6.6 6.6-6.6z"/></svg>`;
      }

      async handleAddToCart(e) {
        const button = e.target.closest('.ai-cart-upsell__button-{{ ai_gen_id }}');
        const variantId = button.dataset.variantId;
        const originalText = button.innerHTML;

        button.disabled = true;
        button.innerHTML = '<svg class="ai-cart-upsell__button-icon-{{ ai_gen_id }}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" stroke="currentColor" stroke-width="2.5"/></svg>{{ block.settings.adding_text }}';

        try {
          const response = await fetch('/cart/add.js', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              id: variantId,
              quantity: 1
            })
          });

          if (response.ok) {
            button.innerHTML = '<svg class="ai-cart-upsell__button-icon-{{ ai_gen_id }}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" stroke="currentColor" stroke-width="2.5"/></svg>{{ block.settings.added_text }}';
            
            setTimeout(() => {
              window.location.href = '/cart';
            }, 500);
          } else {
            throw new Error('Failed to add to cart');
          }
        } catch (error) {
          console.error('Error adding to cart:', error);
          button.innerHTML = originalText;
          button.disabled = false;
        }
      }

      showEmpty() {
        this.loadingEl.style.display = 'none';
        this.gridEl.style.display = 'none';
        this.emptyEl.style.display = 'block';
      }

      formatMoney(cents) {
        const amount = cents / 100;
        return new Intl.NumberFormat('en-US', {
          style: 'currency',
          currency: 'USD'
        }).format(amount);
      }

      stripHtml(html) {
        const tmp = document.createElement('div');
        tmp.innerHTML = html;
        return tmp.textContent || tmp.innerText || '';
      }

      escapeHtml(text) {
        const map = {
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          "'": '&#039;'
        };
        return text.replace(/[&<>"']/g, m => map[m]);
      }
    }

    customElements.define('cart-upsell-{{ ai_gen_id }}', CartUpsell{{ ai_gen_id }});
  })();
</script>












{% schema %}
{
  "name": "Cart upsell",
  "tag": null,
  "settings": [
    { "type": "header", "content": "Content" },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "You may also like"
    },
    {
      "type": "inline_richtext",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "You've got great taste! Here are a few perfect-match products that go hand-in-hand with what's already in your cart."
    },
    {
      "type": "range",
      "id": "max_products",
      "min": 2,
      "max": 12,
      "step": 1,
      "label": "Maximum products",
      "default": 8
    },
    {
      "type": "checkbox",
      "id": "show_vendor",
      "label": "Show vendor",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show description",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "only_simple_products",
      "label": "Show only single-variant products",
      "info": "Hide products with multiple variants",
      "default": true
    },
    {
      "type": "inline_richtext",
      "id": "empty_message",
      "label": "Empty message",
      "default": "No recommendations available"
    },

    { "type": "header", "content": "Button" },
    {
      "type": "inline_richtext",
      "id": "button_text",
      "label": "Button text",
      "default": "Add Product"
    },
    {
      "type": "inline_richtext",
      "id": "adding_text",
      "label": "Adding text",
      "default": "Adding..."
    },
    {
      "type": "inline_richtext",
      "id": "added_text",
      "label": "Added text",
      "default": "Added!"
    },
    {
      "type": "range",
      "id": "button_height",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Button height",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_bottom_left_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Bottom left radius",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_bottom_right_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Bottom right radius",
      "default": 0
    },

    { "type": "header", "content": "Card text controls" },
    {
      "type": "range",
      "id": "content_padding",
      "min": 8,
      "max": 28,
      "step": 2,
      "unit": "px",
      "label": "Card inner padding",
      "default": 16
    },
    {
      "type": "range",
      "id": "card_title_size",
      "min": 12,
      "max": 28,
      "step": 1,
      "unit": "px",
      "label": "Title size (SKU)",
      "default": 16
    },
    {
      "type": "select",
      "id": "card_title_weight",
      "label": "Title weight",
      "options": [
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semibold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "700"
    },
    {
      "type": "text",
      "id": "card_title_line_height",
      "label": "Title line-height",
      "default": "1.2"
    },
    {
      "type": "text",
      "id": "card_title_letter_spacing",
      "label": "Title letter-spacing (em)",
      "default": "0.01"
    },
    {
      "type": "range",
      "id": "card_title_bottom_margin",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Space below title",
      "default": 6
    },
    {
      "type": "range",
      "id": "price_size",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Price size",
      "default": 20
    },
    {
      "type": "select",
      "id": "price_weight",
      "label": "Price weight",
      "options": [
        { "value": "600", "label": "Semibold" },
        { "value": "700", "label": "Bold" },
        { "value": "800", "label": "Extra Bold" }
      ],
      "default": "700"
    },
    {
      "type": "text",
      "id": "price_line_height",
      "label": "Price line-height",
      "default": "1.1"
    },
    {
      "type": "range",
      "id": "price_top_margin",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Space above price",
      "default": 8
    },
    {
      "type": "range",
      "id": "price_bottom_margin",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Space below price",
      "default": 16
    },

    { "type": "header", "content": "Heading style" },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 16
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 28
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "600"
    },

    { "type": "header", "content": "Layout" },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Section padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "spacing",
      "min": 8,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Card border radius",
      "default": 8
    },

    { "type": "header", "content": "Colors" },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#121212"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#ffffff"
    }
  ],
  "presets": [
    { "name": "Cart upsell" }
  ]
}
{% endschema %}
